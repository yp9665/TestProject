{"version":3,"names":["CSSKeyframesRuleImpl","applyCSSAnimations","createSingleCSSAnimationProperties","getAnimationSettingsUpdates","normalizeSingleCSSAnimationSettings","unregisterCSSAnimations","cssKeyframesRegistry","CSSAnimationsManager","attachedAnimations","constructor","shadowNodeWrapper","viewTag","update","animationProperties","detach","processedAnimations","processAnimations","registerKeyframesUsage","animationUpdates","getAnimationUpdates","animationNames","length","unmountCleanup","unregisterKeyframesUsage","newAnimationNames","Set","forEach","keyframesRule","add","name","has","remove","singleAnimationPropertiesArray","map","properties","keyframes","animationName","cssText","JSON","stringify","get","normalizedSettings","buildAnimationsMap","animations","reduceRight","acc","animation","push","newAnimationSettings","settingsUpdates","animationsArrayChanged","hasNewAnimations","hasSettingsUpdates","oldAnimations","i","oldAnimation","pop","updates","Object","keys","result"],"sourceRoot":"../../../../src","sources":["css/managers/CSSAnimationsManager.ts"],"mappings":"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","ignoreList":[]}
